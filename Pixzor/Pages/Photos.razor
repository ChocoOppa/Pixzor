@page "/"

<style>
    .home-search {
        position: relative;
    }

    .mud-input-control {
        width: 60%;
    }

    @@media (max-width: 768px) {
        .photo-container {
            padding: 0 15px !important;
        }
    }
</style>

<PageTitle>Home</PageTitle>

<MudContainer Class="d-flex flex-column ma-0 pa-0" MaxWidth="MaxWidth.False">
    <MudContainer Class="home-search" MaxWidth="MaxWidth.False">
        <MudImage Src="https://images.pexels.com/photos/1083822/pexels-photo-1083822.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
                  Fluid="true"
                  ObjectFit="ObjectFit.Cover"
                  Style="height: 50vh; width: 100%"
                  />
        <MudContainer Class="d-flex flex-column gap-5" 
                      Style="position: absolute; top: 30%; left: 0; align-items: center;" 
                      MaxWidth="MaxWidth.False">
            <MudText Style="color: #fff" Typo="Typo.h4"><b><span style="color: #E3655B;">Pixzor</span> Home Page</b></MudText>
            <MudTextField DebounceInterval="500"
                          Class="rounded"
                          OnDebounceIntervalElapsed="HandleIntervalElapsed" 
                          @bind-Value="@_debouncedText" 
                          Label="Search" 
                          Variant="Variant.Filled" 
                          Adornment="Adornment.End"
                          AdornmentIcon="@Icons.Filled.Search"
                          AdornmentColor="Color.Primary"
                          Style="background-color: white;" />
        </MudContainer>
    </MudContainer>
    <MudContainer Class="photo-container" MaxWidth="MaxWidth.False" Style="align-self: center; padding: 0 30px; margin-top: 30px;">
        <MudTabs Elevation="0" Rounded="true" ApplyEffectsToContainer="true" PanelClass="py-6" Centered="true" Color="Color.Surface">
            <MudTabPanel Text="Tab One" Style="padding: 0;">
                <MudGrid Spacing="2">
                    <MudItem md="4" sm="6" xs="6">
                        <MudPaper>
                            <MudImage Src="https://images.pexels.com/photos/376533/pexels-photo-376533.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                                      Fluid="true"
                                      ObjectFit="ObjectFit.Cover"
                                      Style="width: 100%" />
                        </MudPaper>
                    </MudItem>
                    <MudItem md="4" sm="6" xs="6">
                        <MudPaper>
                            <MudImage Src="https://images.pexels.com/photos/376533/pexels-photo-376533.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                                      Fluid="true"
                                      ObjectFit="ObjectFit.Cover"
                                      Style="width: 100%" />
                        </MudPaper>
                    </MudItem>
                    <MudItem md="4" sm="6" xs="6">
                        <MudPaper>
                            <MudImage Src="https://images.pexels.com/photos/376533/pexels-photo-376533.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                                      Fluid="true"
                                      ObjectFit="ObjectFit.Cover"
                                      Style="width: 100%"
                  />
                        </MudPaper>
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
            <MudTabPanel Text="Tab Two">
                <MudText>Content Two</MudText>
            </MudTabPanel>
            <MudTabPanel Text="Tab Three">
                <MudText>Content Three</MudText>
            </MudTabPanel>
        </MudTabs>
    </MudContainer>
</MudContainer>

<MudButton OnClick="Test">Click</MudButton>

@code {

    // Search
    string _debouncedText = string.Empty;

    void HandleIntervalElapsed(string debouncedText)
    {
        // at this stage, interval has elapsed
    }

    private async Task Test()
    {
        await PhotoService.GetPhotos();
        Console.WriteLine(PhotoService.Photos.TotalResults);
    }
}
