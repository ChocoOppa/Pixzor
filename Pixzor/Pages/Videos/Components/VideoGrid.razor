@if (videoPage?.TotalResults > 0)
{
    <MudGrid Class="d-flex flex-nowrap gap-4">

        <!-- Hidden at sm and down -->
        <MudHidden Breakpoint="Breakpoint.SmAndDown">
            <MudItem Class="pa-0" md="4">
                <MudStack Spacing="4">
                    @*<Virtualize ItemsProvider="GetCuratedPhotos" Context="photo">*@
                    @foreach (var video in videoPage.Videos.Take(videoPage.PerPage / 3))
                    {
                        <VideoItem Video="@video" />
                    }
                    @*</Virtualize>*@
                </MudStack>
            </MudItem>
            <MudItem Class="pa-0" md="4">
                <MudStack Spacing="4">
                    @foreach (var video in videoPage.Videos.Skip(videoPage.PerPage / 3)
                                                           .Take((videoPage.PerPage - videoPage.PerPage / 3) / 2))
                    {
                        <VideoItem Video="@video" />
                    }
                </MudStack>
            </MudItem>
            <MudItem Class="pa-0" md="4">
                <MudStack Spacing="4">
                    @foreach (var video in videoPage.Videos.TakeLast((videoPage.PerPage - videoPage.PerPage / 3) / 2))
                    {
                        <VideoItem Video="@video" />
                    }
                </MudStack>
            </MudItem>
        </MudHidden>

        <!-- Hidden at md and up -->
        <MudHidden Breakpoint="Breakpoint.Sm" Invert="true">
            <MudItem Class="pa-0" sm="6">
                <MudStack Spacing="4">
                    @*<Virtualize ItemsProvider="GetCuratedPhotos" Context="photo">*@
                    @foreach (var video in videoPage.Videos.Take(videoPage.PerPage / 2))
                    {
                        <VideoItem Video="@video" />
                    }
                    @*</Virtualize>*@
                </MudStack>
            </MudItem>
            <MudItem Class="pa-0" sm="6">
                <MudStack Spacing="4">
                    @foreach (var video in videoPage.Videos.Skip(videoPage.PerPage / 2))
                    {
                        <VideoItem Video="@video" />
                    }
                </MudStack>
            </MudItem>
        </MudHidden>

        <!-- Hidden at sm and up -->
        <MudHidden Breakpoint="Breakpoint.SmAndUp">
            <MudItem Class="pa-0" xs="12">
                <MudStack Spacing="4">
                    @*<Virtualize ItemsProvider="GetCuratedPhotos" Context="photo">*@
                    @foreach (var video in videoPage.Videos)
                    {
                        <VideoItem Video="@video" />
                    }
                    @*</Virtualize>*@
                </MudStack>
            </MudItem>
        </MudHidden>
        
    </MudGrid>
}

@code {
    [Parameter]
    public VideoPage? videoPage { get; set; }
    [Parameter]
    public string searchText { get; set; } = string.Empty;
}
